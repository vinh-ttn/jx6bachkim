QY_GOLDBOSS_POS = {
	["city"] = {
		{78,{{1753,3121},{1670,3462},{1369,3411},{1379,3141}},"T­¬ng D­¬ng"},	
		{1,{{1799,3265},{1835,3024},{1436,2953},{1404,3338}},"Ph­îng T­êng"},	
		{11,{{2966,4807},{2999,5266},{3252,5349},{3346,4797}},"Thµnh §«"},	
		{80,{{1934,2861},{1723,3339},{1598,3313},{1538,3041}},"D­¬ng Ch©u"},	
		{37,{{1770,3403},{1520,3281},{1535,2902},{2017,2679}},"BiÖn Kinh"},	
		{162,{{1404,3417},{1388,3149},{1723,3501},{1785,2986}},"§¹i Lý"},	
		{176,{{1162,2781},{1832,3342},{1247,3354},{1754,2805}},"L©m An"},
	},
	["Phï Dung ®éng 1"] = {
		{202,{{1647,3100},{1535,3032}},"Phï Dung ®éng"},
	},

	["Phï Dung ®éng 2"] = {
		{202,{{1618,2950},{1528,2768}},"Phï Dung ®éng"},
	},

	["S¬n B¶o ®éng 1"] = {
		{76,{{1583,2989},{1767,3086}},"S¬n B¶o ®éng"},
	},

	["S¬n B¶o ®éng 2"] = {
		{76,{{1671,3220},{1551,3144}},"S¬n B¶o ®éng"},
	},

	["Nh¹n Th¹ch ®éng 1"] = {
		{10,{{1667,3055},{1773,2935}},"Nh¹n Th¹ch ®éng"},
	},

	["Nh¹n Th¹ch ®éng 2"] = {
		{10,{{1836,3082},{1750,3193}},"Nh¹n Th¹ch ®éng"},
	},

	["Thanh khª ®éng 1"] = {
		{198,{{1547,2814},{1640,2918}},"Thanh khª ®éng"},
	},

	["Thanh khª ®éng 2"] = {
		{198,{{1687,3025},{1624,3072}},"Thanh khª ®éng"},
	},

	["Phong L¨ng ®é 1"] = {
		{336, {{1113,3134},{1241,3038},{1422,3113},{1475,2929}},"Phong L¨ng ®é"},
	},

	["Phong L¨ng ®é 2"] = {
		{336, {{1531,2535},{1140,2639},{1166,2824},{1425,2793}},"Phong L¨ng ®é"},
	},

	["Kho¶ Lang ®éng 1"] = {
		{75,{{1717,3094},{1614,3191}},"Kho¶ Lang ®éng"},
	},

	["Kho¶ Lang ®éng 2"] = {
		{75,{{1843,3169},{1793,3030}},"Kho¶ Lang ®éng"},
	},

	["Vò L¨ng ®éng 1"] = {
		{199, {{1445,2959},{1602,3295}},"Vò L¨ng ®éng"},
	},

	["Vò L¨ng ®éng 2"] = {
		{199, {{1696,3034},{1852,3174}},"Vò L¨ng ®éng"},
	},

	["Phi Thiªn ®éng 1"] = {
		{204, {{1624,3379},{1818,3460}},"Phi Thiªn ®éng"},
	},

	["Phi Thiªn ®éng 2"] = {
		{204, {{1527,3529},{1403,3407}},"Phi Thiªn ®éng"},
	},

	["Tr­êng B¹ch s¬n B¾c 1"] = {
		{322, {{1938,3957},{1697,3511}},"Tr­êng B¹ch s¬n B¾c"},
	},

	["Tr­êng B¹ch s¬n B¾c 2"] = {
		{322, {{1595,3976},{2046,3351}},"Tr­êng B¹ch s¬n B¾c"},
	},

	["Tr­êng B¹ch s¬n Nam 1"] = {
		{321, {{1474,3008},{1065,3059}},"Tr­êng B¹ch s¬n Nam"},
	},

	["Tr­êng B¹ch s¬n Nam 2"] = {
		{321, {{1007,2626},{1413,2440}},"Tr­êng B¹ch s¬n Nam"},
	},

	["V« Danh ®éng 1"] = {
		{203,{{1626,3049},{1471,2992}},"V« Danh ®éng"},
	},

	["V« Danh ®éng 2"] = {
		{203,{{1590,3282},{1792,3234}},"V« Danh ®éng"},
	},

	["L­ìng Thñy ®éng 1"] = {
		{181, {{1635,3079},{1415,3041}},"L­ìng Thñy ®éng"},
	},

	["L­ìng Thñy ®éng 2"] = {
		{181, {{1504,3099},{1616,2951}},"L­ìng Thñy ®éng"},
	},

	["D­¬ng Trung ®éng 1"] = {
		{205, {{1612,3364},{1585,3226}},"D­¬ng Trung ®éng"},
	},

	["D­¬ng Trung ®éng 2"] = {
		{205, {{1495,3110},{1275,3059}},"D­¬ng Trung ®éng"},
	},

	["M¹c Cao QuËt 1"] = {
		{340, {{1893,3275},{1762,2967}},"M¹c Cao QuËt"},
	},

	["M¹c Cao QuËt 2"] = {
		{340, {{1288,3304},{1447,2798}},"M¹c Cao QuËt"},
	},

	["Vi S¬n ®¶o 1"] = {
		{342, {{1212,2419},{1253,2924}},"Vi S¬n ®¶o"},
	},

	["Vi S¬n ®¶o 2"] = {
		{342, {{1516,2802},{1529,2477}},"Vi S¬n ®¶o"},
	},

	["Sa m¹c ®Þa biÓu 1"] = {
		{224, {{1739,2857},{1622,2974}},"Sa m¹c ®Þa biÓu"},
	},

	["Sa m¹c ®Þa biÓu 2"] = {
		{224, {{1784,3096},{1447,3040}},"Sa m¹c ®Þa biÓu"},
	},

	["M¹c B¾c Th¶o Nguyªn 1"] = {
		{341, {{1538,2429},{1258,2648}},"M¹c B¾c Th¶o Nguyªn"},
	},

	["M¹c B¾c Th¶o Nguyªn 2"] = {
		{341, {{1331,3182},{1484,3040}},"M¹c B¾c Th¶o Nguyªn"},
	},

	["Sa M¹c s¬n  ®éng 1"] = {
		{225, {{1289,3261},{1486,3180},{1401,3284},{1603,3221}},"Sa M¹c s¬n  ®éng 1"},
	},

	["Sa M¹c s¬n  ®éng 2"] = {
		{226, {{1623,3118},{1708,3346},{1873,3217},{1789,3050}},"Sa M¹c s¬n  ®éng 2"},
	},

	["Sa M¹c s¬n  ®éng 3"] = {
		{227, {{1628,3277},{1658,3050},{1365,3160},{1498,3398}},"Sa M¹c s¬n  ®éng 3"},
	},

	["D­îc V­¬ng §éng TÇng 4"] = {
		{144, {{1667,3108},{1608,3174},{1760,3078},{1744,3168}},"D­îc V­¬ng §éng TÇng 4"},
	},
}

function qy_makeboss_onlyone_pos()
	for i = 1, getn(QY_GOLDBOSS_APOS_INFO) do
		bossname = QY_GOLDBOSS_APOS_INFO[i][1]
		bossid = QY_GOLDBOSS_APOS_INFO[i][2]
		bosslvl = QY_GOLDBOSS_APOS_INFO[i][3]
		series = QY_GOLDBOSS_APOS_INFO[i][4]
		if(bossid == 748) then
			series = random(0, 4)
		end
		szMap = QY_GOLDBOSS_APOS_INFO[i][5][random(1,getn(QY_GOLDBOSS_APOS_INFO[i][5]))]
		world, posx, posy, worldname = qy_get_bosspos(szMap)
		str = format("Giang hå truyÒn r»ng %s ®· xuÊt hiÖn t¹i %s vâ l©m trung nguyªn sÏ cã mét cuéc chiÕn ®Èm m¸u!",bossname, worldname)
		toadox = floor(posx/8)
		toadoy=floor(posy/16)
		msg = format("<color=yellow>%s<color> ®· xuÊt hiÖn t¹i <color=yellow>%s %s/%s<color>",bossname, worldname,toadox,toadoy)
		GlobalExecute(format("dw Msg2SubWorld([[%s]])", msg));	
		GlobalExecute(format("dw QY_MakeBoss_RandInCity(%d, %d, %d, %d, %d, %d, [[%s]], [[%s]] )",bossid, bosslvl, series, world, posx, posy, bossname, str ));
		if bossname == "Cæ B¸ch" then bossnames= "Co Bach" 
		elseif bossname== "HuyÒn Gi¸c §¹i S­" then bossnames= "Huyen Giac Dai Su"
		elseif bossname== "§­êng Phi YÕn" then bossnames= "Duong Phi Yen" 
		elseif bossname== "Lam Y Y" then bossnames= "Lam Y Y" 
		elseif bossname=="Hµ Linh Phiªu" then bossnames= "Ha Linh Phieu" 
		elseif bossname== "Yªn HiÓu Tr¸i" then bossnames= "Yen Hieu Trai" 
		elseif bossname== "M¹nh Th­¬ng L­¬ng" then bossnames= "Manh Thuong Luong" 
		elseif bossname== "Gia LuËt TÞ Ly" then bossnames= "Gia Luat Ti Ly" 
		elseif bossname== "§¹o Thanh Ch©n Nh©n" then bossnames= "Dao Thanh Chan Nhan" 
		elseif bossname== "TuyÒn C¬ Tö" then bossnames= "Tuyen Co Tu" 
		elseif bossname== "V­¬ng T¸" then bossnames= "Vuong Ta"
		elseif bossname== "HuyÒn Nan §¹i S­" then bossnames= "Huyen Nan Dai Su"
		elseif bossname== "§­êng BÊt NhiÔm" then bossnames= "Duong Bat Nhiem"
		elseif bossname== "B¹ch Doanh Doanh" then bossnames= "Bach Doanh Doanh"
		elseif bossname== "Chung Linh Tó" then bossnames= "Chung Linh Tu"
		elseif bossname== "Hµ Nh©n Ng·" then bossnames= "Ha Nhan Nga"
		elseif bossname== "§oan Méc DuÖ" then bossnames= "Doan Moc Due"
		elseif bossname== "Tõ §¹i Nh¹c" then bossnames= "Tu Dai Nhac"
		elseif bossname== "Thanh Liªn Tö" then bossnames= "Thanh Lien Tu"
		elseif bossname== "Thanh TuyÖt S­ Th¸i" then bossnames= "Thanh Tuyet Su Thai"
		elseif bossname== "Hµn Ngu Dèt" then bossnames = "Han Ngu Dot"
		end
		OutputMsg("TRIEU HOI BOSS DAI "..bossnames..","..bossid..","..bosslvl..","..world..","..posx..","..posy..","..series..date("----%Y%m%d%H%M"))
	end
end

function qy_get_bosspos(szMap)
	local cityidx = random(getn(QY_GOLDBOSS_POS[szMap]))
	local posidx = random(1,getn(QY_GOLDBOSS_POS[szMap][cityidx][2]));
	local world = QY_GOLDBOSS_POS[szMap][cityidx][1]
	local posx = QY_GOLDBOSS_POS[szMap][cityidx][2][posidx][1]
	local posy = QY_GOLDBOSS_POS[szMap][cityidx][2][posidx][2]
	return world, posx, posy, QY_GOLDBOSS_POS[szMap][cityidx][3]
end

function qy_makeboss_lotsof_pos()
	for i = 1, getn(QY_GOLDBOSS_DPOS_INFO) do
		bossname = QY_GOLDBOSS_DPOS_INFO[i][1]
		bossid = QY_GOLDBOSS_DPOS_INFO[i][2]
		bosslvl = QY_GOLDBOSS_DPOS_INFO[i][3]
		series = QY_GOLDBOSS_DPOS_INFO[i][5]
		str = QY_GOLDBOSS_DPOS_INFO[i][6]
		if(bossid == 748) then
			series = random(0, 4)
		end
		OutputMsg(bossname, bossid, bosslvl, series.."test")
		if (random(100) > 60) then
			world_t, posx_t, posy_t, worldname_t = qy_get_bosspos_incity()
			flag = 0
			for i=1, getn(TAB_CITY_EMPTY) do
				if (world_t == TAB_CITY_EMPTY[i]) then
					flag = 1
					break
				end
			end
			if (flag ~= 1) then
				TAB_CITY_EMPTY[getn(TAB_CITY_EMPTY)+1] = world_t
				world = world_t
				posx = posx_t
				posy = posy_t
				worldname = worldname_t
				str = format("Giang hå truyÒn r»ng %s ®· xuÊt hiÖn t¹i %s giang hå sÏ cã mét cuéc chiÕn ®Èm m¸u!",bossname, worldname)
				GlobalExecute(format("dw QY_MakeBoss_RandInCity(%d, %d, %d, %d, %d, %d, [[%s]], [[%s]])",bossid, bosslvl, series, world, posx, posy, bossname, str));
			else
				GlobalExecute(format("dw CallBossDown_Outter(%d, [[%s]])", bossid, str))
			end
		else
			GlobalExecute(format("dw CallBossDown_Outter(%d, [[%s]])", bossid, str))
		end
			if bossname== "HuyÒn Gi¸c §¹i S­" then bossnames= "Huyen Giac Dai Su"
			elseif bossname== "Yªn HiÓu Tr¸i" then bossnames= "Yen Hieu Trai" 
			elseif bossname== "TuyÒn C¬ Tö" then bossnames= "Tuyen Co Tu" 
			elseif bossname== "Hµ Nh©n Ng·" then bossnames= "Ha Nhan Nga"
			elseif bossname== "Tõ §¹i Nh¹c" then bossnames= "Tu Dai Nhac"
			elseif bossname== "Thanh TuyÖt S­ Th¸i" then bossnames= "Thanh Tuyet Su Thai"
		end
		OutputMsg("BOSS HOANG KIM XUAT HIEN "..bossnames..","..bossid..","..bosslvl..","..series..date("%Y%m%d%H%M"))
	end
end

function qy_makeboss_fixure(ngroup)
	GlobalExecute(format("dw CallBossDown_Fixure(%d)", ngroup))
end;
